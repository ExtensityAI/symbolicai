
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>symai.core &#8212; SymbolicAI</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=df347da4"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/symai/core';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="version" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">SymbolicAI</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../INTRODUCTION.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALLATION.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../QUICKSTART.html">Quick Start Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../FEATURES/index.html">Features</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/causal_reasoning.html">üß† Causal Reasoning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/operations.html">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/vision.html">Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/import.html">Module Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FEATURES/error_handling.html">‚ùå Error Handling and Debugging</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ENGINES/index.html">Engines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/neurosymbolic_engine.html">Neuro-Symbolic Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/symbolic_engine.html">Symbolic Engine (WolframAlpha)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/speech_engine.html">Speech Engine (Whisper)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/ocr_engine.html">OCR Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/search_engine.html">Search Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/webcrawler_engine.html">Webcrawler Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/drawing_engine.html">Drawing Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/file_engine.html">File Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/indexing_engine.html">Indexing Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/clip_engine.html">CLIP Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/local_engine.html">Local Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ENGINES/custom_engine.html">Custom Engine</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../TUTORIALS/index.html">Tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../TUTORIALS/chatbot.html">Writing a Custom Chatbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TUTORIALS/data_query.html">Querying Data with SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TUTORIALS/context.html">Handling Files and Long Context Lengths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TUTORIALS/video_tutorials.html">Video Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TUTORIALS/examples.html">Example Files</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../TOOLS/index.html">Tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../TOOLS/shell.html">Shell Command Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TOOLS/chatbot.html">Chatbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../TOOLS/packages.html">Packages</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../API_REF.html">API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../symai.html">symai package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../symai.backend.html">symai.backend package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../symai.backend.engines.html">symai.backend.engines package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.backend.mixin.html">symai.backend.mixin package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.collect.html">symai.collect package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../symai.extended.html">symai.extended package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.interfaces.html">symai.extended.interfaces package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.metrics.html">symai.extended.metrics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.packages.html">symai.extended.packages package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.personas.html">symai.extended.personas package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.strategies.html">symai.extended.strategies package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.formatter.html">symai.formatter package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.menu.html">symai.menu package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.misc.html">symai.misc package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.models.html">symai.models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.ops.html">symai.ops package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.server.html">symai.server package</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../symai.backend.html">symai.backend package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../symai.backend.engines.html">symai.backend.engines package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.backend.mixin.html">symai.backend.mixin package</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.backend.engines.html">symai.backend.engines package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.backend.mixin.html">symai.backend.mixin package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.collect.html">symai.collect package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../symai.extended.html">symai.extended package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.interfaces.html">symai.extended.interfaces package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.metrics.html">symai.extended.metrics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.packages.html">symai.extended.packages package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../symai.extended.personas.html">symai.extended.personas package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.personas.research.html">symai.extended.personas.research package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.personas.sales.html">symai.extended.personas.sales package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../symai.extended.personas.student.html">symai.extended.personas.student package</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.strategies.html">symai.extended.strategies package</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.interfaces.html">symai.extended.interfaces package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.metrics.html">symai.extended.metrics package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.packages.html">symai.extended.packages package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../symai.extended.personas.html">symai.extended.personas package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.personas.research.html">symai.extended.personas.research package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.personas.sales.html">symai.extended.personas.sales package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../symai.extended.personas.student.html">symai.extended.personas.student package</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.personas.research.html">symai.extended.personas.research package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.personas.sales.html">symai.extended.personas.sales package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.personas.student.html">symai.extended.personas.student package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.extended.strategies.html">symai.extended.strategies package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.formatter.html">symai.formatter package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.menu.html">symai.menu package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.misc.html">symai.misc package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.models.html">symai.models package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.ops.html">symai.ops package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../symai.server.html">symai.server package</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LICENSE.html">License</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item"><nav class="sidebar-indices-items" aria-labelledby="pst-indices-navigation-heading-2">
  <p id="pst-indices-navigation-heading-2" class="sidebar-indices-items__title" role="heading" aria-level="1">Indices</p>
  <ul class="indices-link">
        <li class="toctree-l1">
          <a class="reference internal"
             href="../../genindex.html"
             accesskey="I">General Index</a>
        </li>
        <li class="toctree-l1">
          <a class="reference internal" href="../../py-modindex.html">Python Module Index</a>
        </li>
  </ul>
</nav></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/ExtensityAI/symbolicai" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1></h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <h1>Source code for symai.core</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">functools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">inspect</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">multiprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Value</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Type</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">attr</span><span class="w"> </span><span class="kn">import</span> <span class="n">has</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">beartype</span><span class="w"> </span><span class="kn">import</span> <span class="n">beartype</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">box</span><span class="w"> </span><span class="kn">import</span> <span class="n">Box</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">loguru</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">post_processors</span> <span class="k">as</span> <span class="n">post</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">pre_processors</span> <span class="k">as</span> <span class="n">pre</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">prompts</span> <span class="k">as</span> <span class="n">prm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.core_ext</span><span class="w"> </span><span class="kn">import</span> <span class="n">retry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.functional</span><span class="w"> </span><span class="kn">import</span> <span class="n">EngineRepository</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">LLMDataModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.prompts</span><span class="w"> </span><span class="kn">import</span> <span class="n">Prompt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.symbol</span><span class="w"> </span><span class="kn">import</span> <span class="n">Expression</span><span class="p">,</span> <span class="n">Metadata</span>


<div class="viewcode-block" id="Argument">
<a class="viewcode-back" href="../../symai.html#symai.core.Argument">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Argument</span><span class="p">(</span><span class="n">Expression</span><span class="p">):</span>
    <span class="n">_default_suppress_verbose_output</span>            <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_default_parse_system_instructions</span>          <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_default_preview_value</span>                      <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span>             <span class="o">=</span> <span class="n">args</span> <span class="c1"># there is only signature args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signature_kwargs</span> <span class="o">=</span> <span class="n">signature_kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decorator_kwargs</span> <span class="o">=</span> <span class="n">decorator_kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span>           <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_construct_kwargs</span><span class="p">(</span><span class="n">signature_kwargs</span><span class="o">=</span><span class="n">signature_kwargs</span><span class="p">,</span>
                                                       <span class="n">decorator_kwargs</span><span class="o">=</span><span class="n">decorator_kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prop</span>             <span class="o">=</span> <span class="n">Metadata</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_all_kwargs_as_properties</span><span class="p">()</span>
        <span class="c1"># Set default values if not specified for backend processing</span>
        <span class="c1"># Reserved keywords</span>
        <span class="k">if</span> <span class="s1">&#39;preview&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span> <span class="c1"># used for previewing the input (also for operators)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">preview</span> <span class="o">=</span> <span class="n">Argument</span><span class="o">.</span><span class="n">_default_preview_value</span>
        <span class="k">if</span> <span class="s1">&#39;raw_input&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">raw_input</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;raw_output&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">raw_output</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;return_metadata&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">return_metadata</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;logging&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">logging</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;verbose&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;self_prompt&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">self_prompt</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s1">&#39;truncation_percentage&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">truncation_percentage</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;truncation_type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">truncation_type</span> <span class="o">=</span> <span class="s1">&#39;tail&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;response_format&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">response_format</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;log_level&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">log_level</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;time_clock&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">time_clock</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;payload&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">payload</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;processed_input&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">processed_input</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;template_suffix&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">template_suffix</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;input_handler&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">input_handler</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;output_handler&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">output_handler</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;suppress_verbose_output&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">suppress_verbose_output</span> <span class="o">=</span> <span class="n">Argument</span><span class="o">.</span><span class="n">_default_suppress_verbose_output</span>
        <span class="k">if</span> <span class="s1">&#39;parse_system_instructions&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="o">.</span><span class="n">parse_system_instructions</span> <span class="o">=</span> <span class="n">Argument</span><span class="o">.</span><span class="n">_default_parse_system_instructions</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_all_kwargs_as_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prop</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Box</span><span class="p">({</span>
            <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
            <span class="s1">&#39;signature_kwargs&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">signature_kwargs</span><span class="p">,</span>
            <span class="s1">&#39;decorator_kwargs&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">decorator_kwargs</span><span class="p">,</span>
            <span class="s1">&#39;kwargs&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="s1">&#39;prop&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">prop</span>
        <span class="p">})</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_construct_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Combines and overrides the decorator args and kwargs with the runtime signature args and kwargs.</span>

<span class="sd">        Args:</span>
<span class="sd">            signature_kwargs (Dict): The signature kwargs.</span>
<span class="sd">            decorator_kwargs (Dict): The decorator kwargs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict: The combined and overridden kwargs.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># Initialize with the decorator kwargs</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">}</span>
        <span class="c1"># Override the decorator kwargs with the signature kwargs</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">signature_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">kwargs</span></div>



<div class="viewcode-block" id="few_shot">
<a class="viewcode-back" href="../../symai.html#symai.core.few_shot">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
             <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="p">[],</span>
             <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
             <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
             <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&quot;General decorator for the neural processing engine.</span>


<span class="sd">    Args:</span>
<span class="sd">        prompt (str): The prompt describing the task. Defaults to &#39;Summarize the content of the following text:\n&#39;.</span>
<span class="sd">        examples (Any): A object containing examples to be used for the task in specified format.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of results to be returned, if more are obtained.</span>
<span class="sd">        default (object, optional): Default value if prediction fails. Defaults to None.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model to match the format of the examples. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>
<span class="sd">        **decorator_kwargs: Additional arguments as key-value pairs passed to the decorated function, which can later accessed in pre_processors and post_processors via the argument.kwargs[&#39;key&#39;] dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The prediction of the model based on the return type of the decorated function. Defaults to object, if not specified or to str if cast was not possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;examples&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">examples</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;neurosymbolic&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="zero_shot">
<a class="viewcode-back" href="../../symai.html#symai.core.zero_shot">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">zero_shot</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
              <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&quot;General decorator for the neural processing engine.</span>
<span class="sd">    This method is used to decorate functions which can build any expression without examples.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str): The prompt describing the task. Defaults to &#39;Summarize the content of the following text:\n&#39;.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of results to be returned, if more are obtained.</span>
<span class="sd">        default (object, optional): Default value if prediction fails. Defaults to None.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>
<span class="sd">        **decorator_kwargs: Additional arguments as key-value pairs passed to the decorated function, which can later accessed in pre_processors and post_processors via the argument.kwargs[&#39;key&#39;] dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The prediction of the model based on the return type of the decorated function. Defaults to object, if not specified or to str if cast was not possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="p">[],</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="prompt">
<a class="viewcode-back" href="../../symai.html#symai.core.prompt">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">prompt</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;General decorator for the neural processing engine.</span>

<span class="sd">    Args:</span>
<span class="sd">        message (str): The prompt message describing the task.</span>
<span class="sd">        **decorator_kwargs: Additional arguments as key-value pairs passed to the decorated function, which can later accessed in pre_processors and post_processors via the argument.kwargs[&#39;key&#39;] dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The prediction of the model based on the return type of the decorated function. Defaults to object, if not specified or to str if cast was not possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">processed_input</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
                    <span class="n">raw_input</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="summarize">
<a class="viewcode-back" href="../../symai.html#symai.core.summarize">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">summarize</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Summarize the content of the following text:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
              <span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">SummaryPreProcessing</span><span class="p">()],</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Summarizes the content of a text.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Summarize the content of the following text:\n&#39;.</span>
<span class="sd">        context (str, optional): Provide the context how text should be summarized. Defaults to None.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The summary of the text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="p">[],</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="equals">
<a class="viewcode-back" href="../../symai.html#symai.core.equals">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;contextually&#39;</span><span class="p">,</span>
           <span class="n">default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
           <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Make a fuzzy equals comparison. Are the following objects </span><span class="si">{}</span><span class="s2"> the same?</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">FuzzyEquals</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">EqualsPreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Equality function for two objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        context (str, optional): Keyword to express how to compare the words. Defaults to &#39;contextually&#39;. As an alternative, one can use other type such as &#39;literally&#39;.</span>
<span class="sd">        default (bool, optional): Condition outcome. Defaults to False.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Are the following objects {} the same?\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of fuzzy examples showing how to compare objects in specified format. Defaults to FuzzyEquals().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [EqualsPreProcessor()] and uses &#39;self&#39; plus one required argument for comparison (other).</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: The equality of the two objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">context</span><span class="p">),</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">max_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="sufficient">
<a class="viewcode-back" href="../../symai.html#symai.core.sufficient">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">sufficient</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Consider if there is sufficient information to answer the query</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
               <span class="n">default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
               <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">SufficientInformation</span><span class="p">(),</span>
               <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">SufficientInformationPreProcessor</span><span class="p">()],</span>
               <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
               <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if there is sufficient information to answer the given query.</span>

<span class="sd">    Args:</span>
<span class="sd">        query (str): The query to be evaluated.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Consider if there is sufficient information to answer the query&quot;</span>
<span class="sd">        default (bool, optional): The default value to be returned if the task cannot be solved. Defaults to False. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of example inputs used to train the model. Defaults to SufficientInformation().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [SufficientInformationPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if there is sufficient information to answer the query, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">max_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="delitem">
<a class="viewcode-back" href="../../symai.html#symai.core.delitem">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">delitem</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Delete the items at the index position</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">RemoveIndex</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">DeleteIndexPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes the items at the specified index position.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Delete the items at the index position&#39;</span>
<span class="sd">        examples (Prompt, optional): A list of strings from which the model can learn. Defaults to RemoveIndex().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [DeleteIndexPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The item at the specified index position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="setitem">
<a class="viewcode-back" href="../../symai.html#symai.core.setitem">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">setitem</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Set item at index position</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">SetIndex</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">SetIndexPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets an item at a given index position in a sequence.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Set item at index position&quot;</span>
<span class="sd">        examples (Prompt, optional): A list of examples that the model should be trained on. Defaults to SetIndex().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [SetIndexPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The item set at the specified index position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="getitem">
<a class="viewcode-back" href="../../symai.html#symai.core.getitem">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getitem</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Get item at index position</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">Index</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">IndexPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the item at the given index position.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Get item at index position</span>
<span class="sd">        examples (Prompt, optional): A list of examples to be used for training. Defaults to Index().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [IndexPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The item at the given index position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="modify">
<a class="viewcode-back" href="../../symai.html#symai.core.modify">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="n">changes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Modify the text to match the criteria:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">Modify</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ModifyPreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A function to modify a text based on a set of criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        changes (str): The criteria to modify the text.</span>
<span class="sd">        default (str, optional): A default result if specified. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Modify the text to match the criteria:\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of possible modifications in specified format. Defaults to Modify().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ModifyPreProcessor()] and requires one argument (text).</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The modified text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">changes</span><span class="o">=</span><span class="n">changes</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="filtering">
<a class="viewcode-back" href="../../symai.html#symai.core.filtering">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filtering</span><span class="p">(</span><span class="n">criteria</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
              <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Filter the information from the text based on the filter criteria. Leave sentences unchanged if they are unrelated to the filter criteria:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">Filter</span><span class="p">(),</span>
              <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">FilterPreProcessor</span><span class="p">()],</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter information from a text based on a set of criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        criteria (str): A description of the criteria to filter the text.</span>
<span class="sd">        include (bool, optional): If True, include the information matching the criteria. Defaults to False.</span>
<span class="sd">        default (str, optional): A default result if specified. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Remove the information from the text based on the filter criteria:\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of filtered examples in specified format. Defaults to Filter().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model.. Defaults to [FilterPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The filtered text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">criteria</span><span class="o">=</span><span class="n">criteria</span><span class="p">,</span>
                    <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="notify">
<a class="viewcode-back" href="../../symai.html#symai.core.notify">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">notify</span><span class="p">(</span><span class="n">subscriber</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">],</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;List the semantically related topics:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">SemanticMapping</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">SemanticMappingPreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">SplitPipePostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">NotifySubscriberPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Notify subscribers based on a set of topics if detected in the input text and matching the key of the subscriber.</span>

<span class="sd">    Args:</span>
<span class="sd">        subscriber (Dict[str, Callable], optional): Dictionary of key-value pairs, with the key being the topic and the value being the function to be called if the topic is detected in the input text.</span>
<span class="sd">        default (object, optional): A default result if specified. Defaults to None.</span>
<span class="sd">        prompt (_type_, optional): The prompt describing the task. Defaults to &quot;List the semantically related topics:\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of semantic mapping examples. Defaults to SemanticMapping().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model.. Defaults to [SemanticMappingPreProcessor()]. Requires one argument (text).</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [SplitPipePostProcessor(), NotifySubscriberPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: A string with a list of topics detected in the input text separated by a pipe (|).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">subscriber</span><span class="o">=</span><span class="n">subscriber</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="compare">
<a class="viewcode-back" href="../../symai.html#symai.core.compare">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">operator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Compare number &#39;A&#39; to &#39;B&#39;:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">CompareValues</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ComparePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare two objects based on the specified operator.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (bool, optional): The conditional outcome of the comparison. Defaults to False.</span>
<span class="sd">        operator (str, optional): A logical operator comparing the two statements. Defaults to &#39;&gt;&#39;.</span>
<span class="sd">        prompt (_type_, optional): The prompt describing the task. Defaults to &quot;Compare number &#39;A&#39; to &#39;B&#39;:\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of comparison examples. Defaults to CompareValues().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model.. Defaults to [ComparePreProcessor()]. Uses &#39;self&#39; for &#39;A&#39; and requires exactly one argument (B) to compare.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Conditional outcome of the comparison.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">max_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">operator</span><span class="o">=</span><span class="n">operator</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="convert">
<a class="viewcode-back" href="../../symai.html#symai.core.convert">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">convert</span><span class="p">(</span><span class="nb">format</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Translate the following text into </span><span class="si">{}</span><span class="s2"> format.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">Format</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">TextFormatPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transformation operation from one format to another.</span>

<span class="sd">    Args:</span>
<span class="sd">        format (str): Description of how to format the text.</span>
<span class="sd">        default (str, optional): A default result if specified. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Translate the following text into {} format.\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of format examples. Defaults to Format().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (list, optional): A list of pre-processors to be applied to the input and shape the input to the model.. Defaults to [TextFormatPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The formatted text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="transcribe">
<a class="viewcode-back" href="../../symai.html#symai.core.transcribe">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">transcribe</span><span class="p">(</span><span class="n">modify</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Transcribe the following text by only modifying the text by the provided instruction.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
               <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">Transcription</span><span class="p">(),</span>
               <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">TranscriptionPreProcessor</span><span class="p">()],</span>
               <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
               <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transcription operation of a text to another styled text.</span>

<span class="sd">    Args:</span>
<span class="sd">        modify (str): Description of how to modify the transcription.</span>
<span class="sd">        default (str, optional): A default result if specified. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Transcribe the following text by only modifying the text by the provided instruction.\n&quot;.</span>
<span class="sd">        examples (Prompt, optional): List of format examples. Defaults to Format().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (list, optional): A list of pre-processors to be applied to the input and shape the input to the model.. Defaults to [TextFormatPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The transcribed text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">modify</span><span class="o">=</span><span class="n">modify</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="style">
<a class="viewcode-back" href="../../symai.html#symai.core.style">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">style</span><span class="p">(</span><span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
          <span class="n">libraries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Style the [DATA] based on best practices and the descriptions in [...] brackets. Do not remove content from the data! Do not add libraries or other descriptions. </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">StylePreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Styles a given text based on best practices and a given description.</span>

<span class="sd">    Args:</span>
<span class="sd">        description (str): The description of the style to be applied.</span>
<span class="sd">        libraries (List[str], optional): A list of libraries to be used. Defaults to [].</span>
<span class="sd">        default (str, optional): The default style to be applied if the task cannot be solved. Defaults to None.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Style the following content based on best practices and the following description. Do not change content of the data!</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [StylePreProcessor(), TemplatePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The given text, styled according to best practices.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">libraries</span><span class="o">=</span><span class="n">libraries</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="analyze">
<a class="viewcode-back" href="../../symai.html#symai.core.analyze">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">analyze</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">exception</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Only analyze the error message and suggest a potential correction, however, do NOT provide the code!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ExceptionMapping</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ExceptionPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Analyses an Exception and proposes a correction.</span>

<span class="sd">    Args:</span>
<span class="sd">        query (str): The query of the error.</span>
<span class="sd">        exception (Exception): The exception to be analyzed.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Analyses the error and propose a correction.&#39;.</span>
<span class="sd">        examples (Prompt, optional): A list of example answers to the error. Defaults to ExceptionMapping().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ExceptionPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The proposed correction for the given error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                    <span class="n">exception</span><span class="o">=</span><span class="n">exception</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="correct">
<a class="viewcode-back" href="../../symai.html#symai.core.correct">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">correct</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">exception</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Correct the code according to the context description.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">CorrectionPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">ConfirmToBoolPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Analyses an Exception and proposes a correction.</span>

<span class="sd">    Args:</span>
<span class="sd">        context (str): The context of the error.</span>
<span class="sd">        exception (Exception): The exception to be analyzed.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Correct the code according to the context description.&#39;.</span>
<span class="sd">        examples (Prompt, optional): A list of example answers to the error. Defaults to ExecutionCorrection().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [CorrectionPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The proposed correction for the given error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">exception</span><span class="o">=</span><span class="n">exception</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="translate">
<a class="viewcode-back" href="../../symai.html#symai.core.translate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">translate</span><span class="p">(</span><span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;English&#39;</span><span class="p">,</span>
              <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Sorry, I do not understand the given language.&quot;</span><span class="p">,</span>
              <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Translate the following text into </span><span class="si">{}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">LanguagePreProcessor</span><span class="p">()],</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Translates a given text into a specified language.</span>

<span class="sd">    Args:</span>
<span class="sd">        language (str, optional): The language to which the text should be translated. Defaults to &#39;English&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to &quot;Sorry, I do not understand the given language.&quot;.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Translate the following text into {}:&quot;.</span>
<span class="sd">        examples (Prompt, optional): A list of example texts to be used as a reference. Defaults to [].</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [LanguagePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The translated text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">language</span><span class="o">=</span><span class="n">language</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="rank">
<a class="viewcode-back" href="../../symai.html#symai.core.rank">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">rank</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">order</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;desc&#39;</span><span class="p">,</span>
         <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Order the list of objects based on their quality measure and oder literal:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
         <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">RankList</span><span class="p">(),</span>
         <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
         <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">RankPreProcessor</span><span class="p">()],</span>
         <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">ASTPostProcessor</span><span class="p">()],</span>
         <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ranks a list of objects based on their quality measure and order literal.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        order (str, optional): The order of the objects in the list. Can be either &#39;desc&#39; (descending) or &#39;asc&#39; (ascending). Defaults to &#39;desc&#39;.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Order the list of objects based on their quality measure and oder literal:&quot;.</span>
<span class="sd">        examples (Prompt, optional): A list of examples of ordered objects. Defaults to RankList().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [RankPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [ASTPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The list of objects in the given order.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="replace">
<a class="viewcode-back" href="../../symai.html#symai.core.replace">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">replace</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Replace text parts by string pattern.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ReplaceText</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ReplacePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Replaces text parts by a given string pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Replace text parts by string pattern.&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to be used to train the model. Defaults to ReplaceText().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ReplacePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The replaced text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="include">
<a class="viewcode-back" href="../../symai.html#symai.core.include">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">include</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Include information based on description.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">IncludeText</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">IncludePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Include information from a description.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Include information based on description.&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples containing information to be included. Defaults to IncludeText().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The included information from the description.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="combine">
<a class="viewcode-back" href="../../symai.html#symai.core.combine">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">combine</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Add the two data types in a logical way:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">CombineText</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">CombinePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Combines two data types in a logical way.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Add the two data types in a logical way:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to show how the data should be combined. Defaults to CombineText().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constraints applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [CombinePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The combined data types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="negate">
<a class="viewcode-back" href="../../symai.html#symai.core.negate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">negate</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Negate the following statement:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">NegateStatement</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">NegatePreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Negates a given statement.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Negate the following statement:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of example statements to be used for training. Defaults to NegateStatement().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constraints applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [NegatePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The negated statement.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="contains">
<a class="viewcode-back" href="../../symai.html#symai.core.contains">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Is semantically the information of &#39;A&#39; contained in &#39;B&#39;?</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
             <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ContainsValue</span><span class="p">(),</span>
             <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
             <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ContainsPreProcessor</span><span class="p">()],</span>
             <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
             <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines whether a given string contains another string.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (bool, optional): The default value to be returned if the task cannot be solved. Defaults to False.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Is information &#39;A&#39; contained in &#39;B&#39;?&#39;</span>
<span class="sd">        examples (Prompt, optional): Examples of strings to check if they contain the given string. Defaults to ContainsValue().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ContainsPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Whether the given string is contained in the provided string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">max_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="isinstanceof">
<a class="viewcode-back" href="../../symai.html#symai.core.isinstanceof">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isinstanceof</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Detect if &#39;A&#39; isinstanceof &#39;B&#39;:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
                 <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">IsInstanceOf</span><span class="p">(),</span>
                 <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
                 <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">IsInstanceOfPreProcessor</span><span class="p">()],</span>
                 <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
                 <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Detects if one object is an instance of another.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (bool, optional): The default value to be returned if the task cannot be solved. Defaults to False. Alternatively, one can implement the decorated function.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Detect if &#39;A&#39; isinstanceof &#39;B&#39;:&quot;.</span>
<span class="sd">        examples (Prompt, optional): A list of examples used to train the model. Defaults to IsInstanceOf().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to IsInstanceOfPreProcessor().</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Whether or not the object is an instance of the other.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">max_tokens</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="case">
<a class="viewcode-back" href="../../symai.html#symai.core.case">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">case</span><span class="p">(</span><span class="n">enum</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
         <span class="n">default</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
         <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Classify the text according to one of the following categories: &quot;</span><span class="p">,</span>
         <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">stop</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
         <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">EnumPreProcessor</span><span class="p">(),</span> <span class="n">pre</span><span class="o">.</span><span class="n">TextMessagePreProcessor</span><span class="p">(),</span> <span class="n">pre</span><span class="o">.</span><span class="n">PredictionMessagePreProcessor</span><span class="p">()],</span>
         <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">CaseInsensitivePostProcessor</span><span class="p">()],</span>
         <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Classifies a text according to one of the given categories.</span>

<span class="sd">    Args:</span>
<span class="sd">        enum (List[str]): A list of strings representing the categories to be classified.</span>
<span class="sd">        default (str): The default category to be returned if the task cannot be solved.</span>
<span class="sd">        examples (Prompt, optional): A list of examples used to train the model.</span>
<span class="sd">        stop (List[str], optional): A list of strings that will stop the prompt. Defaults to [&#39;\n&#39;].</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Classify the text according to one of the following categories: &quot;.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [EnumPreProcessor(), TextMessagePreProcessor(), PredictionMessagePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor(), CaseInsensitivePostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The category the text is classified as.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="n">enum</span><span class="o">=</span><span class="n">enum</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="extract">
<a class="viewcode-back" href="../../symai.html#symai.core.extract">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extract</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Extract a pattern from text:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ExtractPattern</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ExtractPatternPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extracts a pattern from text.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Extract a pattern from text:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples of the pattern to be extracted. Defaults to ExtractPattern().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ExtractPatternPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The extracted pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="expression">
<a class="viewcode-back" href="../../symai.html#symai.core.expression">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">expression</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Evaluate the symbolic expressions:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
               <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">WolframAlphaPostProcessor</span><span class="p">()],</span>
               <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluates the symbolic expressions.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Evaluate the symbolic expressions:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [SimpleSymbolicExpressionPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The result of the evaluated expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;symbolic&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="interpret">
<a class="viewcode-back" href="../../symai.html#symai.core.interpret">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">interpret</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Evaluate the symbolic expressions:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">SimpleSymbolicExpression</span><span class="p">(),</span>
              <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">InterpretExpressionPreProcessor</span><span class="p">()],</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluates the symbolic expressions by interpreting the semantic meaning.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Evaluate the symbolic expressions:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [SimpleSymbolicExpressionPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The result of the evaluated expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="logic">
<a class="viewcode-back" href="../../symai.html#symai.core.logic">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">logic</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Evaluate the logic expressions:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
          <span class="n">operator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">LogicExpression</span><span class="p">(),</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">LogicExpressionPreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluates a logic expression.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Evaluate the logic expressions:&#39;.</span>
<span class="sd">        operator (str, optional): The operator used in the expression. Defaults to &#39;and&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): The list of examples to be tested. Defaults to LogicExpression().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The evaluated expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">operator</span><span class="o">=</span><span class="n">operator</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="invert">
<a class="viewcode-back" href="../../symai.html#symai.core.invert">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">invert</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Invert the logic of the content:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">InvertExpression</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ArrowMessagePreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inverts the logic of a statement.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Invert the logic of the content:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples used to train the model. Defaults to InvertExpression().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ArrowMessagePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The logic of the statement inverted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="simulate">
<a class="viewcode-back" href="../../symai.html#symai.core.simulate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">simulate</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Simulate the following code:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
             <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">SimulateCode</span><span class="p">(),</span>
             <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
             <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">SimulateCodePreProcessor</span><span class="p">()],</span>
             <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">SplitPipePostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">TakeLastPostProcessor</span><span class="p">()],</span>
             <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simulates code and returns the result.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Simulate the following code:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The number of results to be returned. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of example codes used to train the model. Defaults to SimulateCode().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [SimulateCodePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [SplitPipePostProcessor(), TakeLastPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The result of the code simulation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="code">
<a class="viewcode-back" href="../../symai.html#symai.core.code">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">code</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Generate code that solves the following problems:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
         <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">GenerateCode</span><span class="p">(),</span>
         <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
         <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">GenerateCodePreProcessor</span><span class="p">()],</span>
         <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
         <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates code that solves a given problem.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Generate code that solves the following problems:&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        limit (int, optional): The maximum amount of code to be generated. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of given examples of code. Defaults to GenerateCode().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to GenerateCodePreProcessor().</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The generated code that solves the given problem.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="outline">
<a class="viewcode-back" href="../../symai.html#symai.core.outline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">outline</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Outline only the essential content as a short list of bullets. Each bullet is in a new line:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">TextToOutline</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">TextToOutlinePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">SplitNewLinePostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Outlines the essential content as a short list of bullets.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Outline only the essential content as a short list of bullets. Each bullet is in a new line:&quot;.</span>
<span class="sd">        default (List[str], optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum length of the output. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): The list of examples provided. Defaults to TextToOutline().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor(), SplitNewLinePostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The short list of bullets outlining the essential content.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="unique">
<a class="viewcode-back" href="../../symai.html#symai.core.unique">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">unique</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Create a short unique key that captures the essential topic from the following statements and does not collide with the list of keys:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
           <span class="n">keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">UniqueKey</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">UniquePreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a short, unique key that captures the essential topic from the given statements and does not collide with the list of keys.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Create a short unique key that captures the essential topic from the following statements and does not collide with the list of keys:&#39;.</span>
<span class="sd">        keys (List[str], optional): A list of keys to check against for uniqueness. Defaults to None.</span>
<span class="sd">        default (List[str], optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of keys to return. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of example keys that the unique key should be based on. Defaults to UniqueKey().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [UniquePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The list of unique keys.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="clean">
<a class="viewcode-back" href="../../symai.html#symai.core.clean">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Clean up the text from special characters or escape sequences. DO NOT change any words or sentences! Keep original semantics:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">CleanText</span><span class="p">(),</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">CleanTextMessagePreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cleans up a text from special characters and escape sequences.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Clean up the text from special characters or escape sequences:&quot;.</span>
<span class="sd">        default (List[str], optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of cleaned up words to be returned. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to be used to train the model. Defaults to [CleanText()].</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [CleanTextMessagePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The cleaned up text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="compose">
<a class="viewcode-back" href="../../symai.html#symai.core.compose">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">compose</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Create a coherent text based on the facts listed in the outline:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">GenerateTextPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compose a coherent text based on an outline.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Create a coherent text based on an outline:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples that help guide the model to solve the task. Defaults to [].</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [GenerateTextPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The composed text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="foreach">
<a class="viewcode-back" href="../../symai.html#symai.core.foreach">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">foreach</span><span class="p">(</span><span class="n">condition</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">apply</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Iterate over each element and apply operation based on condition:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ForEach</span><span class="p">(),</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ForEachPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Applies an operation based on a given condition to each element in a list.</span>

<span class="sd">    Args:</span>
<span class="sd">        condition (str): The condition to be applied to each element.</span>
<span class="sd">        apply (str): The operation to be applied to each element.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Iterate over each element and apply operation based on condition:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to be used by the model. Defaults to ForEach().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: A list of elements with the applied operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">condition</span><span class="o">=</span><span class="n">condition</span><span class="p">,</span>
                    <span class="n">apply</span><span class="o">=</span><span class="n">apply</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="dictionary">
<a class="viewcode-back" href="../../symai.html#symai.core.dictionary">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dictionary</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Map related content together under a common abstract topic. Do not remove content:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
               <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">MapContent</span><span class="p">(),</span>
               <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">MapPreProcessor</span><span class="p">()],</span>
               <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">ASTPostProcessor</span><span class="p">()],</span>
               <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Maps related content together under a common abstract topic.</span>

<span class="sd">    Args:</span>
<span class="sd">        context (str): The text from which the content is to be mapped.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;Map related content together under a common abstract topic. Do not remove content:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of example content to be mapped. Defaults to MapContent().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [MapPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor(), ASTPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The mapped content of the text.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="listing">
<a class="viewcode-back" href="../../symai.html#symai.core.listing">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">listing</span><span class="p">(</span><span class="n">condition</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;List each element contained in the text or list based on condition:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">examples</span><span class="p">:</span> <span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ListObjects</span><span class="p">(),</span>
             <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ListPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists each element contained in the text or list based on the given condition.</span>

<span class="sd">    Args:</span>
<span class="sd">        condition (str): The condition to filter elements by.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &quot;List each element contained in the text or list based on condition:&quot;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        examples (Prompt, optional): A list of examples that can be used to validate the output of the model. Defaults to ListObjects().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The list of elements filtered by the given condition.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">condition</span><span class="o">=</span><span class="n">condition</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="query">
<a class="viewcode-back" href="../../symai.html#symai.core.query">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">query</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
          <span class="n">prompt</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">QueryPreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a query given a context.</span>

<span class="sd">    Args:</span>
<span class="sd">        context (str): The context for the query.</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to None.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to provide to the model. Defaults to [].</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [QueryPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The answer to the query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="expand">
<a class="viewcode-back" href="../../symai.html#symai.core.expand">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">expand</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Write a self-contained function (with all imports) to solve a specific user problem task. Label the function with a name that describes the task.&#39;</span><span class="p">,</span>
           <span class="n">examples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="p">]</span> <span class="o">=</span> <span class="n">prm</span><span class="o">.</span><span class="n">ExpandFunction</span><span class="p">(),</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="n">ExpandFunctionPreProcessor</span><span class="p">(),</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">ExpandFunctionPostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a expand command given a context to generate new prompts.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;Write a prompt to condition a large language model to perform an action given a user task&#39;.</span>
<span class="sd">        examples (Prompt, optional): A list of examples to provide to the model. Defaults to ExpandFunction().</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [QueryPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The answer to the query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">few_shot</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">,</span>
                    <span class="n">examples</span><span class="o">=</span><span class="n">examples</span><span class="p">,</span>
                    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                    <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="n">prm</span><span class="o">.</span><span class="n">Prompt</span><span class="o">.</span><span class="n">stop_token</span><span class="p">],</span>
                    <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                    <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="search">
<a class="viewcode-back" href="../../symai.html#symai.core.search">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
           <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Searches for a given query on the internet.</span>

<span class="sd">    Args:</span>
<span class="sd">        query (str): The query to be searched for.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        limit (int, optional): The maximum number of results to be returned. Defaults to 1.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The search results based on the query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;query&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">query</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;search&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="opening">
<a class="viewcode-back" href="../../symai.html#symai.core.opening">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">opening</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Opens a file and applies a given function to it.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (str): The path of the file to open.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of results to be returned. Defaults to None.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>
<span class="sd">        **decorator_kwargs: Arbitrary keyword arguments to be passed to the function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The result of applying the given function to the opened file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;files&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="embed">
<a class="viewcode-back" href="../../symai.html#symai.core.embed">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">embed</span><span class="p">(</span><span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">UnwrapListSymbolsPreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Embeds the entries provided in a decorated function.</span>

<span class="sd">    Args:</span>
<span class="sd">        entries (List[str]): A list of entries that will be embedded in the decorated function.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        function: A function with the entries embedded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;entries&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">entries</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;embedding&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="cluster">
<a class="viewcode-back" href="../../symai.html#symai.core.cluster">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">cluster</span><span class="p">(</span><span class="n">entries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">UnwrapListSymbolsPreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">ClusterPostProcessor</span><span class="p">()],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Embeds and clusters the input entries.</span>

<span class="sd">    Args:</span>
<span class="sd">        entries (List[str]): The list of entries to be clustered.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [ClusterPostProcessor()].</span>
<span class="sd">        **decorator_kwargs (optional): Additional keyword arguments to be passed to the underlying embedding model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[List[str]]: The list of clustered entries.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">embed</span><span class="p">(</span><span class="n">entries</span><span class="o">=</span><span class="n">entries</span><span class="p">,</span>
                 <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                 <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="draw">
<a class="viewcode-back" href="../../symai.html#symai.core.draw">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span>
         <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
         <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ValuePreProcessor</span><span class="p">()],</span>
         <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Draws an image provided in a decorated function.</span>

<span class="sd">    Args:</span>
<span class="sd">        operation (str, optional): The specific operation to be performed. Defaults to &#39;create&#39;.</span>
<span class="sd">        prompt (str, optional): The prompt describing context of the image generation process.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        function: A function with the entries embedded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;operation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">operation</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;drawing&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="text_vision">
<a class="viewcode-back" href="../../symai.html#symai.core.text_vision">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">text_vision</span><span class="p">(</span><span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="o">|</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">text</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs vision-related associative tasks. Currently limited to CLIP model embeddings.</span>

<span class="sd">    Args:</span>
<span class="sd">        image (str, optional): The image the task should be performed on. Defaults to None.</span>
<span class="sd">        text (List[str], optional): The text describing the task. Defaults to None.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments for the decorated method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The result of the performed task.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">text</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;text_vision&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="ocr">
<a class="viewcode-back" href="../../symai.html#symai.core.ocr">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">ocr</span><span class="p">(</span><span class="n">image</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs Optical Character Recognition (OCR) on an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image (str): The filepath of the image containing the text to be recognized.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the image before performing OCR. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the output of the OCR before returning the result. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to pass to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The text recognized by the OCR.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;ocr&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="speech_to_text">
<a class="viewcode-back" href="../../symai.html#symai.core.speech_to_text">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">speech_to_text</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;decode&#39;</span><span class="p">,</span>
                   <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorates the given function for speech recognition.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str, optional): The prompt describing the task. Defaults to &#39;decode&#39;.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;speech-to-text&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="text_to_speech">
<a class="viewcode-back" href="../../symai.html#symai.core.text_to_speech">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">text_to_speech</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">voice</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nova&#39;</span><span class="p">,</span>
                   <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                   <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorates the given function for text to speech synthesis.</span>

<span class="sd">    Args:</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to None.</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">path</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;voice&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">voice</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;text-to-speech&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="output">
<a class="viewcode-back" href="../../symai.html#symai.core.output">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">output</span><span class="p">(</span><span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
           <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ConsolePreProcessor</span><span class="p">()],</span>
           <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">ConsolePostProcessor</span><span class="p">()],</span>
           <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Offers an output stream for writing results.</span>

<span class="sd">    Args:</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [ConsolePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [ConsolePostProcessor()].</span>
<span class="sd">        decorator_kwargs (dict, optional): Keyword arguments to be passed to the wrapped function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        function: The decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="fetch">
<a class="viewcode-back" href="../../symai.html#symai.core.fetch">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">fetch</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
          <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">,</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">CrawlPatternPreProcessor</span><span class="p">()],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches data from a given URL and applies the provided post-processors.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): The URL of the page to fetch data from.</span>
<span class="sd">        pattern (str, optional): A regular expression to match the desired data. Defaults to &#39;&#39;.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the task cannot be solved. Defaults to None. Alternatively, one can implement the decorated function.</span>
<span class="sd">        limit (int, optional): The maximum number of matching items to return. Defaults to 1.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [CrawlPatternPreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [].</span>
<span class="sd">        decorator_kwargs (dict, optional): Additional keyword arguments to pass to the decorated function. Defaults to {}.</span>

<span class="sd">    Returns:</span>
<span class="sd">        object: The matched data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;urls&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">url</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;patterns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pattern</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;crawler&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="userinput">
<a class="viewcode-back" href="../../symai.html#symai.core.userinput">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">userinput</span><span class="p">(</span><span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
              <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ConsoleInputPreProcessor</span><span class="p">()],</span>
              <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">StripPostProcessor</span><span class="p">()],</span>
              <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prompts for user input and returns the user response through a decorator.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (str): The prompt that will be displayed to the user.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constraints applied to the user input. Defaults to [].</span>
<span class="sd">        default (object, optional): The default value to be returned if the user input does not pass the constraints. Defaults to None.</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the desired form. Defaults to [ConsolePreProcessor()].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [StripPostProcessor()].</span>
<span class="sd">        **decorator_kwargs (dict): Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        callable: The decorator function that can be used to prompt for user input.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;userinput&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="execute">
<a class="viewcode-back" href="../../symai.html#symai.core.execute">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes a given function after applying constraints, pre-processing and post-processing.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [].</span>
<span class="sd">        **decorator_kwargs (optional): The additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function that executes the given function after applying constraints, pre-processing and post-processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;execute&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="index">
<a class="viewcode-back" href="../../symai.html#symai.core.index">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
          <span class="n">index_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
          <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;search&#39;</span><span class="p">,</span> <span class="c1"># | add | config</span>
          <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">pre_processors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="n">post_processors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
          <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query for a given index and returns the result through a decorator.</span>

<span class="sd">    Args:</span>
<span class="sd">        prompt (Any): The query to be used by the search, add or config of the index.</span>
<span class="sd">        operation (str, optional): The operation to be performed on the index. Defaults to &#39;search&#39;.</span>
<span class="sd">        default (str, optional): The default value to be returned if the task cannot be solved. Defaults to None.</span>
<span class="sd">        constraints (List[Callable], optional): A list of constrains applied to the model output to verify the output. Defaults to [].</span>
<span class="sd">        pre_processors (List[PreProcessor], optional): A list of pre-processors to be applied to the input and shape the input to the model. Defaults to [].</span>
<span class="sd">        post_processors (List[PostProcessor], optional): A list of post-processors to be applied to the model output and before returning the result. Defaults to [].</span>
<span class="sd">        **decorator_kwargs (optional): The additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function that returns the indexed object after applying constraints, pre-processing and post-processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;operation&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">operation</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;index_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index_name</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="command">
<a class="viewcode-back" href="../../symai.html#symai.core.command">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">command</span><span class="p">(</span><span class="n">engines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorates a function to forward commands to the engine backends.</span>

<span class="sd">    Args:</span>
<span class="sd">        engines (List[str], optional): A list of engines to forward the command to. Defaults to [&#39;all&#39;].</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">command</span><span class="p">(</span>
                    <span class="n">engines</span><span class="o">=</span><span class="n">engines</span><span class="p">,</span>
                    <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">decorator_kwargs</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="register">
<a class="viewcode-back" href="../../symai.html#symai.core.register">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">register</span><span class="p">(</span><span class="n">engines</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorates a function to initialize custom engines as backends.</span>

<span class="sd">    Args:</span>
<span class="sd">        engines (Dict[str], optional): A dictionary of engines to initialize a custom setup.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable: The decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
                    <span class="n">engines</span><span class="o">=</span><span class="n">engines</span><span class="p">,</span>
                    <span class="n">engine_instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="tune">
<a class="viewcode-back" href="../../symai.html#symai.core.tune">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">tune</span><span class="p">(</span><span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span>
         <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fine tune a LLM.</span>

<span class="sd">    Args:</span>
<span class="sd">        operation (str, optional): The specific operation to be performed. Defaults to &#39;create&#39;.</span>
<span class="sd">        pre_processor (List[PreProcessor], optional): A list of pre-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        post_processor (List[PostProcessor], optional): A list of post-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        function: A function with the entries embedded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;__cmd__&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">operation</span> <span class="c1">#TODO: update engine</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;finetune&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>



<div class="viewcode-block" id="caption">
<a class="viewcode-back" href="../../symai.html#symai.core.caption">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">caption</span><span class="p">(</span><span class="n">image</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">pre_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">PreProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pre</span><span class="o">.</span><span class="n">ValuePreProcessor</span><span class="p">()],</span>
            <span class="n">post_processors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">post</span><span class="o">.</span><span class="n">PostProcessor</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="o">**</span><span class="n">decorator_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Caption the content of an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image (str, optional): The path to the image to be captioned.</span>
<span class="sd">        prompt (str, optional): The prompt describing context of the image generation process.</span>
<span class="sd">        pre_processor (List[PreProcessor], optional): A list of pre-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        post_processor (List[PostProcessor], optional): A list of post-processors to be applied to the entries. Defaults to None.</span>
<span class="sd">        **decorator_kwargs: Additional keyword arguments to be passed to the decorated function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        function: A function with the entries embedded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="o">*</span><span class="n">signature_args</span><span class="p">,</span> <span class="o">**</span><span class="n">signature_kwargs</span><span class="p">):</span>
            <span class="c1"># Construct container object for the arguments and kwargs</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">image</span>
            <span class="n">decorator_kwargs</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prompt</span>
            <span class="n">argument</span> <span class="o">=</span> <span class="n">Argument</span><span class="p">(</span><span class="n">signature_args</span><span class="p">,</span> <span class="n">signature_kwargs</span><span class="p">,</span> <span class="n">decorator_kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">EngineRepository</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                                <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;imagecaptioning&#39;</span><span class="p">,</span>
                                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
                                <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                                <span class="n">pre_processors</span><span class="o">=</span><span class="n">pre_processors</span><span class="p">,</span>
                                <span class="n">post_processors</span><span class="o">=</span><span class="n">post_processors</span><span class="p">,</span>
                                <span class="n">argument</span><span class="o">=</span><span class="n">argument</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span></div>

</pre></div>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Marius-Constantin Dinu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2024, ExtensityAI FlexCo.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>